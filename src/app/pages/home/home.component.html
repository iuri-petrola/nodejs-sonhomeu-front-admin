<div class="home-container">
  <h2>ðŸ“‹ Pedidos Aguardando Atendimento</h2>
  <!--<h1>ðŸ“¦ Pedidos Aguardando Atendimento</h1>-->


    <div *ngIf="pedidos.length === 0" class="sem-pedidos">
      ðŸ’¤ Nenhum pedido aguardando atendimento.
    </div>


  <div class="lista-carrinhos">
    <mat-card *ngFor="let cart of pedidos" class="pedido-card">     
      <mat-card-content>
        <div class="info-cliente">
          <p><strong>ID do pedido:</strong> {{ cart.id }}</p>
          <p><strong>Cliente:</strong> {{ cart.user?.name }}</p>
          <p><strong>Email:</strong> {{ cart.user?.email }}</p>
          <p><strong>WhatsApp:</strong> 
            <a *ngIf="cart.user?.whatsapp" 
              [href]="'https://wa.me/' + cart.user.whatsapp" 
              target="_blank">
              {{ cart.user.whatsapp }}
            </a>
            <span *ngIf="!cart.user?.whatsapp"> NÃ£o informado</span>
          </p>
          <p><strong>Data:</strong> {{ cart.createdAt | date:'dd/MM/yy, HH:mm' }}</p>
        </div>

        <p><strong>Produtos:</strong></p>
        <ul>
          <li *ngFor="let item of cart.items">
            <strong>ID Produto: </strong>{{ item.product.id }}
            <strong>Nome: </strong>{{ item.product.name }}
            <p><strong>Qtd: </strong>{{ item.quantity }}</p>
          </li>
        </ul>
      </mat-card-content>

      <mat-card-actions>
        <button mat-raised-button color="primary" (click)="finalizarPedido(cart.id)">Finalizar</button>
      </mat-card-actions>
    </mat-card>
  </div>
</div>